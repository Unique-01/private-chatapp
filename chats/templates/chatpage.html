{% extends "base.html" %}
{% load static %}
{% block content %}
    <div>
        <h1>{{ username }}</h1>
        <p id="connection">
            Connection Status:
            <span id="status"></span>
        </p>
        <div id="message-div">
            {% for message in messages %}
                <p id="message-box" class="message-box">
                    {{ message.content }}
                    <br>
                    {% if message.timestamp|date == now|date %}
                        <small class="">{{ message.timestamp|time }}</small>
                    {% else %}
                        <small>{{ message.timestamp }}</small>
                    {% endif %}
                </p>
            {% endfor %}
        </div>
        <input type="text" id="message-input">
        <button type="submit" id="send-message">send</button>
    </div>
    {{ now|time|json_script:"time-now" }}
    {{ username | json_script:"username" }}
    <script src="{% static 'room.js' %}"></script>
{% endblock content %}
